import json

class Hotel:
    def __init__(self, hotel_id, name, rooms):
        # rooms es un diccionario: {numero_habitacion: {"is_reserved": False, "customer_id": None}}
        self.hotel_id = hotel_id
        self.name = name
        self.rooms = rooms

    def save_to_file(self):
        hotels = self.load_hotels()
        hotels[self.hotel_id] = {"name": self.name, "rooms": self.rooms}
        with open('data/hotels.json', 'w') as file:
            json.dump(hotels, file, indent=4)

    @staticmethod
    def load_hotels():
        try:
            with open('data/hotels.json', 'r') as file:
                return json.load(file)
        except FileNotFoundError:
            return {}

    @staticmethod
    def delete(hotel_id):
        hotels = Hotel.load_hotels()
        if hotel_id in hotels:
            del hotels[hotel_id]
            with open('data/hotels.json', 'w') as file:
                json.dump(hotels, file, indent=4)
            print(f"Hotel {hotel_id} deleted.")
        else:
            print("Hotel not found.")

    def display_info(self):
        print(f"Hotel ID: {self.hotel_id}, Name: {self.name}, Rooms: {self.rooms}")

    def update_info(self, name=None, rooms=None):
        if name:
            self.name = name
        if rooms:
            self.rooms = rooms
        self.save_to_file()
